<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
<!--        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons@latest/iconfont/tabler-icons.min.css">-->
<!--        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css" />-->
        <link rel="stylesheet" href="css/tabler-icons.min.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/components.css">
        <script type="module" src="js/script.js" defer></script>
        <script type="module" src="js/components.js" defer></script>
        <script type="module" src="js/game.js" defer></script>
        <script type="module" src="js/online.js" defer></script>
        <title>Tic Tac Toe</title>
    </head>
    <body data-theme="light">
        <div class="theme-switch">
            <label for="theme-switch">
                <input type="checkbox" name="theme" id="theme-switch">
                <div class="slider"></div>
            </label>
        </div>
        <div class="language-select">
            <details class="select language-select" func="changeLanguage">
                <summary>
                    <div class="selected">
                        <img class="flag" src="https://flagsapi.com/GB/flat/32.png" alt="English">
                        <p class="name">English</p>
                    </div>
                </summary>
                <div class="mobile">
                    <div class="options"></div>
                </div>
            </details>
        </div>
        <i class="ti ti-help help-icon" onclick="openHelp()"></i>
        <div class="help hide">
            <section class="blur"></section>
            <section class="dark"></section>
            <section class="content">
                <div class="container">
                    <div class="header">
                        <h2 data-lang="helpHeader">Help</h2>
                        <i class="ti ti-x close-icon" onclick="closeHelp()"></i>
                    </div>
                    <div class="selector help-tab-selector" func="">
                        <div class="options">
                            <button type="button" class="option active" i="0" val="game" data-lang="game">Game</button>
                            <button type="button" class="option" i="1" val="local-pvp" data-lang="pvpLocal">Local PvP</button>
                            <button type="button" class="option" i="2" val="online" data-lang="online">Online</button>
                            <button type="button" class="option" i="3" val="vs-bot" data-lang="vsBot">Against Bot</button>
                            <button type="button" class="option" i="4" val="about" data-lang="about">About</button>
                        </div>
                    </div>
                    <div class="help-game">
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus amet aperiam, autem blanditiis dolore doloribus eum eveniet, incidunt ipsam laboriosam maxime nobis quas quidem sint sunt temporibus totam velit voluptates!
                    </div>
                    <div class="help-local">
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus amet aperiam, autem blanditiis dolore doloribus eum eveniet, incidunt ipsam laboriosam maxime nobis quas quidem sint sunt temporibus totam velit voluptates!
                    </div>
                    <div class="help-online">
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus amet aperiam, autem blanditiis dolore doloribus eum eveniet, incidunt ipsam laboriosam maxime nobis quas quidem sint sunt temporibus totam velit voluptates!
                    </div>
                    <div class="help-bot">
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus amet aperiam, autem blanditiis dolore doloribus eum eveniet, incidunt ipsam laboriosam maxime nobis quas quidem sint sunt temporibus totam velit voluptates!
                    </div>
                    <div class="help-about">
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus amet aperiam, autem blanditiis dolore doloribus eum eveniet, incidunt ipsam laboriosam maxime nobis quas quidem sint sunt temporibus totam velit voluptates!
                    </div>
                </div>
            </section>
        </div>
        <main>
            <h1 data-lang="title">Tic Tac Toe</h1>
            <h2 data-lang="selectMode">Select Mode:</h2>
            <div class="selector mode-selector" func="changeMode">
                <div class="options game-modes">
                    <button type="button" class="option game-mode" i="0" val="local_pvp" data-lang="pvpLocal">PvP (Local)</button>
                    <button type="button" class="option game-mode" i="1" val="online_pvp" data-lang="pvpOnline">PvP (Online)</button>
                    <button type="button" class="option game-mode" i="2" val="vs_bot" data-lang="vsBot">Against Bot</button>
                </div>
            </div>

            <div class="game-container hidden">
                <div class="game-page local-pvp">
                    <form name="local-pvp-settings">
                        <label for="loc_pvp_size">
                            <h3 data-lang="boardSize">Select the size of the board:</h3>
                        </label>
                        <input type="number" name="size" id="loc_pvp_size" value="3" min="3" max="10" required>
                        <h3 data-lang="startingPlayer">Starting player:</h3>
                        <div class="selector starting-player-selector" func="">
                            <div class="options">
                                <button type="button" class="option active" i="0" val="x">
                                    <i class="ti ti-x"></i>
                                </button>
                                <button type="button" class="option" i="1" val="o">
                                    <i class="ti ti-circle"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" class="button start-game" onclick="startGame()" data-lang="startGame">Start game</button>
                    </form>
                    <div class="game hide">
                        <div class="turn-text">
                            <h3 data-lang="nowPlaying">Now playing:</h3>
                            <i class="ti icon"></i>
                        </div>
                    </div>
                    <div class="game-over-screen hide">
                        <h3 class="game-over-text"></h3>
                        <button type="button" class="button restart-game" onclick="restartGame('local-pvp')" data-lang="restartGame">Play again</button>
                    </div>
                </div>
                <div class="game-page online-pvp">
                    <div class="game-list">
                        <div class="row header">
                            <button type="button" class="button" onclick="openCreateGame()">
                                <i class="ti ti-plus"></i>
                                <span data-lang="createOnlineGame">Create game</span>
                            </button>
                            <button type="button" class="button" onclick="openJoinGame()">
                                <i class="ti ti-logout"></i>
                                <span data-lang="joinOnlineGame">Join game</span>
                            </button>
                            <button type="button" class="button refresh" onclick="refreshGameList()">
                                <i class="ti ti-refresh"></i>
                            </button>
                        </div>
                        <div class="list"></div>
                    </div>
                    <div class="game-lobby hide">
                        <div class="top">
                            <div class="row">
                                <button type="button" class="button leave-btn" onclick="openLeaveGame()">
                                    <i class="ti ti-login"></i>
                                    <span data-lang="leaveGame">Leave</span>
                                </button>
                            </div>
                            <div class="row game-info">
                                <div class="column">
                                    <h2 class="game-name"></h2>
                                    <div class="row game-uuid">
                                        <p></p>
                                        <i class="ti ti-copy"></i>
                                    </div>
                                </div>
                                <div class="game-code">
                                    <h3></h3>
                                    <i class="ti ti-copy copy-code"></i>
                                </div>
                            </div>
                            <div class="player-list">
                            </div>
                        </div>
                        <div class="bottom">
                            <label for="readySwitch" class="button ready-btn">
                                <span data-lang="ready">Ready</span>
                                <input type="checkbox" name="readySwitch" id="readySwitch">
                            </label>
                        </div>
                    </div>
                    <div class="game-room hide">
                        <div class="row">
                            <button type="button" class="button leave-btn" onclick="openLeaveGame()">
                                <i class="ti ti-login"></i>
                                <span data-lang="leaveGame">Leave</span>
                            </button>
                        </div>
                        <div class="game">
                            <div class="turn-text">
                                <h3 data-lang="nowPlaying">Now playing:</h3>
                                <i class="ti icon"></i>
                            </div>
                            <div class="enemy-thinking-text invisible">
                                <p data-lang="enemyThinking">Enemy is thinking...</p>
                                <div class="loader"></div>
                            </div>
                        </div>
                    </div>
                    <div class="create-game hide">
                        <form name="online-game-settings">
                            <div class="row">
                                <i class="ti ti-chevron-left close-icon" onclick="closeCreateGame()"></i>
                                <h2 data-lang="createOnlineGame">Create game</h2>
                            </div>
                            <label for="gameName">
                                <h3 data-lang="gameName">Game name:</h3>
                            </label>
                            <input type="text" name="gameName" id="gameName" minlength="3" maxlength="20" pattern="/[a-zA-Z0-9 ]+/" required>
                            <h3 data-lang="gameVisibility">Game visibility:</h3>
                            <div class="selector game-visibility-selector" func="changeGameVisibility">
                                <div class="options">
                                    <button type="button" class="option active" i="0" val="public" data-lang="public">Public</button>
                                    <button type="button" class="option" i="1" val="unlisted" data-lang="unlisted">Unlisted</button>
                                    <button type="button" class="option" i="2" val="private" data-lang="private">Private</button>
                                </div>
                            </div>
                            <div class="game-password hide">
                                <label for="gamePassword">
                                    <h3 data-lang="gamePassword">Game password:</h3>
                                </label>
                                <input type="password" name="gamePassword" id="gamePassword" minlength="6" maxlength="20" pattern="/[a-zA-Z0-9!@#$%^&*-_]+/">
                            </div>
                            <h3 data-lang="startingPlayer">Starting player:</h3>
                            <div class="selector starting-player-selector" func="">
                                <div class="options">
                                    <button type="button" class="option" i="0" val="x">
                                        <i class="ti ti-x"></i>
                                    </button>
                                    <button type="button" class="option active" i="1" val="random">
                                        <i class="ti ti-question-mark"></i>
                                    </button>
                                    <button type="button" class="option" i="2" val="o">
                                        <i class="ti ti-circle"></i>
                                    </button>
                                </div>
                            </div>
                            <button type="button" class="button" onclick="createOnlineGame()" data-lang="createOnlineGame">Create game</button>
                        </form>
                    </div>
                    <div class="join-game hide">
                        <form name="join-online-game">
                            <div class="row">
                                <i class="ti ti-chevron-left close-icon" onclick="closeJoinGame()"></i>
                                <h2 data-lang="joinOnlineGame">Join game</h2>
                            </div>
                            <label for="gameCode">
                                <h3 data-lang="gameCode">Game code:</h3>
                            </label>
                            <input type="text" minlength="6" maxlength="6" name="gameCode" id="gameCode" pattern="/[a-zA-Z0-9]+/" required>
                            <div class="game-password hide">
                                <label for="joinPassword">
                                    <h3 data-lang="password">Password:</h3>
                                </label>
                                <input type="password" name="joinPassword" id="joinPassword" minlength="3" maxlength="20">
                            </div>
                            <button type="button" class="button" onclick="joinOnlineGame()" data-lang="joinOnlineGame">Join game</button>
                        </form>
                    </div>
                    <div class="leave-game hide">
                        <div class="dialog">
                            <h3 data-lang="leaveGameConfirm">Are you sure you want to leave the game?</h3>
                            <div class="row">
                                <button type="button" class="button" onclick="leaveGame()" data-lang="yes">Yes</button>
                                <button type="button" class="button" onclick="closeLeaveGame()" data-lang="no">No</button>
                            </div>
                        </div>
                    </div>
                    <div class="game-over-screen hide">
                        <h3 class="game-over-text"></h3>
                        <button type="button" class="button restart-game" data-lang="restartGame">Play again</button>
                        <button type="button" class="button leave-game-btn" data-lang="leaveGame">Leave</button>
                    </div>
                </div>
                <div class="game-page vs-bot">
                    <form name="vs-bot-settings">
                        <h3 data-lang="botDifficulty">Select the difficulty of the bot:</h3>
                        <div class="selector bot-difficulty-selector" func="">
                            <div class="options">
                                <button type="button" class="option active" i="0" val="easy" data-lang="difficultyEasy">Easy</button>
                                <button type="button" class="option" i="1" val="medium" data-lang="difficultyMedium">Medium</button>
                                <button type="button" class="option" i="2" val="impossible" data-lang="difficultyImpossible">Impossible</button>
                                <button type="button" class="option" i="3" val="ai" data-lang="difficultyAI">AI</button>
                            </div>
                        </div>
                        <h3 data-lang="startingPlayer">Starting player:</h3>
                        <div class="selector starting-player-selector" func="">
                            <div class="options">
                                <button type="button" class="option active" i="0" val="x">
                                    <i class="ti ti-x"></i>
                                </button>
                                <button type="button" class="option" i="1" val="o">
                                    <i class="ti ti-circle"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" class="button start-game" onclick="startGame()" data-lang="startGame">Start game</button>
                    </form>
                    <div class="game hide">
                        <div class="turn-text">
                            <h3 data-lang="nowPlaying">Now playing:</h3>
                            <i class="ti icon"></i>
                        </div>
                        <div class="bot-thinking-text invisible">
                            <p data-lang="enemyThinking">Enemy is thinking...</p>
                            <div class="loader"></div>
                        </div>
                    </div>
                    <div class="game-over-screen hide">
                        <h3 class="game-over-text"></h3>
                        <button type="button" class="button restart-game" onclick="restartGame('vs-bot')" data-lang="restartGame">Play again</button>
                    </div>
                </div>
            </div>
        </main>
        <div class="messages"></div>
    </body>
</html>